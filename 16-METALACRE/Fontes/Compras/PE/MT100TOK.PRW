#include "Protheus.ch"
#include "TopConn.ch"
/*


Ŀ
Programa   MT100TOK  Autor  Jose Choite Kita Jr              Data  04/03/08 
Ĵ
Descrio  PE na confirmacao da nota de entrada                                 
Ĵ
Uso        Obrigar o preenchimento do CENTRO DE CUSTOS, TANTO EM LINHA OU       
           por rateio                                                           
Ĵ
Parametros 						                                                
Ĵ
Retorno    .T. ou .F.                                                           
Ĵ
 HISTORICO DE ATUALIZACOES DA ROTINA Ĵ
Ĵ
 Desenvolvedor    Data   Solic. Descricao                                     
Ĵ
ٱ


*/
User Function  MT100TOK()
	Local lRet		:= PARAMIXB[1]
	Local nPosCCusto:= AsCan(aHeader,{|x|Alltrim(x[2])=="D1_CC"})
    Local lSemCc := .F.

	If Type("aCols") <> "A"
		Return .T.
	Endif
	If nPosCCusto > 0
		For nI := 1 To Len(aCols)
			cCusto := aCols[nI,nPosCCusto]
			
			If Empty(cCusto)
				lSemCC := .T.
			Endif
		Next
		
		If lSemCC// .And. Empty(Len(aBackColsSDE))
			If Aviso('AVISO',"Ateno Nota No Possui Nenhum Lanamento de Centro de Custos, Na Linha de Itens, Deseja ?",{"Continua","Retornar"}) == 1
				Return .T.
			Else
				Return .F.
			Endif
		Endif
	Endif	
Return .T.

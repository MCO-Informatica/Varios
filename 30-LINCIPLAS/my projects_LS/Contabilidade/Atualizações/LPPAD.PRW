#INCLUDE "RWMAKE.CH"

USER FUNCTION LPPAD(wLanpad)

local wRet:=""


if wLanPad == "650015"

		wRet:=IIF((CTBANFE->D1_TES $ Formula("L06")).AND.(CTBANFE->D1_RATEIO<>"1"),(CTBANFE->D1_TOTAL+CTBANFE->D1_VALIPI+CTBANFE->D1_ICMSRET+CTBANFE->D1_VALFRE+CTBANFE->D1_SEGURO)-(CTBANFE->D1_VALDESC+CTBANFE->D1_DESPESA),0)

endif

if wLanPad == "650020"

   wRet:= IIF((CTBANFE->D1_TES $ Formula("L22")).AND.(CTBANFE->D1_RATEIO<>"1"),(CTBANFE->D1_TOTAL+CTBANFE->D1_VALIPI+CTBANFE->D1_ICMSRET+CTBANFE->D1_DESPESA )-(CTBANFE->D1_VALIMP5+CTBANFE->D1_VALIMP6+CTBANFE->D1_VALICM+CTBANFE->D1_VALDESC),0)

endif

if wLanPad == "650057"
   

  wRet:=IIF((CTBANFE->D1_TES $ Formula("L25")).AND.(CTBANFE->D1_RATEIO<>"1"),(CTBANFE->D1_TOTAL+CTBANFE->D1_VALIPI+CTBANFE->D1_ICMSRET+CTBANFE->D1_VALFRE+CTBANFE->D1_SEGURO)-(CTBANFE->D1_VALICM+CTBANFE->D1_VALDESC+CTBANFE->D1_DESPESA),0)

endif

if wLanPad == "650058"

  wRet:=IIF((CTBANFE->D1_TES $ Formula("L26")).AND.(CTBANFE->D1_RATEIO<>"1"),(CTBANFE->D1_TOTAL+CTBANFE->D1_VALIPI+CTBANFE->D1_ICMSRET+CTBANFE->D1_DESPESA )-(CTBANFE->D1_VALIMP5+CTBANFE->D1_VALIMP6+CTBANFE->D1_VALICM+CTBANFE->D1_VALDESC),0)

endif

if wLanPad == "563100"

   wRet:=IIF(!ALLTRIM(SE5->E5_NATUREZ) $ Formula('F04') +  '/' + Formula('F06') +  '/' + Formula('F28')  +  '/' + Formula('F12') +  '/' + Formula('F14') +  '/' + Formula('F34') +  '/' + Formula('F42') +  '/' + Formula('F59') +  '/' + Formula('F63') +  '/' + Formula('F64') +  '/' + Formula('F65') + '/171/256/DEPOSITO/DINHEIRO/268/293/294' , SE5->E5_VALOR,0)
   
endif

if wLanPad == "531001"

   wRet:= IIF(SE2->E2_TIPO = 'TX', SED->ED_CONTA, IIF(ALLTRIM(SE2->E2_NATUREZ)<>'202', SA2->A2_CONTA,Posicione('SD1',1,SE2->E2_MSFIL + SE2->E2_NUM + LEFT(SE2->E2_USUACAN,3)  + SE2->E2_FORNECE + SE2->E2_LOJA,'D1_CONTA') ))
   
endif                

if wLanPad == "530001"

   //wRet:= iif(empty(SE5->E5_BANCO),iif(SE5->E5_MOTBX == 'FAT','21210007',iif(SE5->E5_MOTBX == 'CEC',SA1->A1_CONTA,iif(SE5->E5_MOTBX == 'DAC','21210008 ','MOT BAIXA: ' + SE5->E5_MOTBX))), Posicione('SA6',1,xFilial('SA6') + SE5->E5_BANCO+SE5->E5_AGENCIA + SE5->E5_CONTA,'A6_CONTA'))
   // INCLUIDO E5_MOTBX = LIQ - LIQUIDAÇÃO
   wRet:= iif(empty(SE5->E5_BANCO),iif(SE5->E5_MOTBX $ 'FAT,LIQ','21210007',iif(SE5->E5_MOTBX == 'CEC',SA1->A1_CONTA,iif(SE5->E5_MOTBX == 'DAC','21210008 ','MOT BAIXA: ' + SE5->E5_MOTBX))), Posicione('SA6',1,xFilial('SA6') + SE5->E5_BANCO+SE5->E5_AGENCIA + SE5->E5_CONTA,'A6_CONTA'))
   
endif                

if wLanPad == "530002"

   //wRet:= IIF(SE2->E2_TIPO='TX'.OR.SE2->E2_NATUREZ>='Z', SED->ED_CONTA,IIF(SE2->E2_TIPO=='FT','21210007', IIF(ALLTRIM(SE2->E2_NATUREZ)<>'202', SA2->A2_CONTA,Posicione('SD1',1,SE2->E2_MSFIL + SE2->E2_NUM + LEFT(SE2->E2_USUACAN,3)  + SE2->E2_FORNECE + SE2->E2_LOJA,'D1_CONTA') )))
   // INCLUIDO E5_MOTBX = LIQ - LIQUIDAÇÃO
   wRet:= IIF(SE2->E2_TIPO='TX'.OR.SE2->E2_NATUREZ>='Z', SED->ED_CONTA,IIF(SE2->E2_TIPO=='FT' .OR. SE5->E5_MOTBX == 'LIQ','21210007', IIF(ALLTRIM(SE2->E2_NATUREZ)<>'202', SA2->A2_CONTA,Posicione('SD1',1,SE2->E2_MSFIL + SE2->E2_NUM + LEFT(SE2->E2_USUACAN,3)  + SE2->E2_FORNECE + SE2->E2_LOJA,'D1_CONTA') )))
   
endif  

if wLanPad == "532001"

   wRet:= IIF(SE2->E2_TIPO = 'FT','21210007',IIF(ALLTRIM(SE2->E2_TIPO)$ 'TX,ICM,FGT,INS,IRF,MUN', SED->ED_CONTA, IIF(ALLTRIM(SE2->E2_NATUREZ)<>'202', SA2->A2_CONTA,Posicione('SD1',1,SE2->E2_MSFIL + SE2->E2_NUM + LEFT(SE2->E2_USUACAN,3)  + SE2->E2_FORNECE + SE2->E2_LOJA,'D1_CONTA') )))

endif

return (wRet)
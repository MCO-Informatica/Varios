#INCLUDE "rwmake.CH"


////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Programa		F240FIL
// Autor		Vanilson Souza / Alexandre Dalpiaz
// Data			01/07/10
// Descricao	Filtro do Browse no Bordero
// Uso			Laselv
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
User Function F240FIL()
////////////////////////

Local _cFiltro	:= ""

U_LS_MATRIZ()

_cFiltro += "E2_MATRIZ == '" + cFilAnt + "'" // ALTERADO POR alexandre em 29/7/2011

_aArea := GetArea()				/// coloca na ordem de valor para facilitar a pesquisa pelo usuário
DbSelectArea('SE2')
DbOrderNickName('E2_VALOR')     
DbGoTop()
RestArea(_aArea)

Return(_cFiltro)

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Autor		Alexandre Dalpiaz
// Data			14/10/10
// validação dos dados do borderô de pagamentos.  verifica se o banco pertence à empresa corrente.
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
User Function F240OK2()
///////////////////////
_lRet := .t.         
U_FA080CAN('Borderô de pagamentos')
If !(SA6->A6_EMPRESA $ GetMv('MV_EMPGRP'))
	MsgBox('Verifique Banco/Agência/Conta' + _cEnter + 'Inválido para esta empresa','ATENÇÃO!!!','ALERT')
	_lRet := .f.
EndIf
Return(_lRet)
